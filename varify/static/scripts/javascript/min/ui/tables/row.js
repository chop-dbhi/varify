define(["jquery","marionette","cilantro","../../models","../../templates"],function(e,t,n,r,i){var s=t.ItemView.extend({className:"area-container variant-container",template:function(){},tagName:"tr",events:{click:"onClick"},onClick:function(e){n.trigger("resultRow:click",this,this.model)},initialize:function(){_.bindAll(this,"onSync"),this.data={};if(!(this.data.resultPk=this.options.resultPk))throw new Error("result pk required");this.model=new r.Result({id:this.data.resultPk}),this.model.on("sync",this.onSync)},onSync:function(){var t,n,r,s,o,u,a,f,l,c,h;return h=this.model.get("variant"),c=this.model.get("score"),l=this.model.get("assessment"),n=e(i.geneLinks(h.uniqueGenes,{collapse:!0})).addClass("genes"),u=e(i.hgvsP(h.effects[0])).addClass("hgvs-p"),f=e(i.variantEffects(h.effects,!0)).addClass("variant-effects").append(e(i.pathogenicity(l))),o=e(i.hgvsC(h.effects[0])).addClass("hgvs-c").tooltip({container:"body"}),s=e(i.genotype(this.model.get("genotype_value"),this.model.get("genotype_description"))).addClass("genotype").tooltip({container:"body"}),r=e(i.genomicPosition(h.chr,h.pos)).addClass("genomic-position").append(e(i.category(l))),a=e(i.phenotypeScore(c)).addClass("phenotype-score"),t=e(i.condensedFlags(h)),this.$el.empty(),this.$el.append(n,u,f,o,s,r,a,t)},onRender:function(){this.model.fetch()}}),o=n.ui.LoadView.extend({align:"left",tagName:"tr"});return{ResultRow:s,EmptyResultRow:o}})