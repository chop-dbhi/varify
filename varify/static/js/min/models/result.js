define(["underscore","backbone","../utils"],function(e,t,n){var r=t.Model.extend({url:function(){return""+n.getRootUrl()+"api/samples/variants/"+this.id+"/"},parse:function(t){var r=t.variant;r.effects=e.sortBy(r.effects,function(e){return n.effectImpactPriority(e.impact)});var i={},s=[];return e.each(r.effects,function(t){var n;if(!t.transcript||!(n=t.transcript.gene))return;if(/^LOC\d+/.test(n.symbol)||i[n.symbol]!==null)return;i[n.symbol]=!0,s.push({symbol:n.symbol,hgnc_id:n.hgnc_id,name:n.name,articles:e.uniq(n.articles),phenotypes:e.uniq(n.phenotypes,!1,function(e){return e.hpo_id})})}),r.uniqueGenes=s,t}}),i=t.Collection.extend({model:r,url:function(){return""+n.getRootUrl()+"api/samples/variants/"}});return{Result:r,ResultCollection:i}})