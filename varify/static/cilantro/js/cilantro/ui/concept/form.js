define(["jquery","underscore","marionette","../../core","../field","../charts","./info"],function(e,i,o,t,n,s,l){var r=o.Layout.extend({className:"concept-form",template:"concept/form",options:{condense:!1,linksMinFields:2},events:{"click [data-target=links] a":"jumpToField"},regions:{info:".info-region",links:".links-region",fields:".fields-region"},regionViews:{info:l.ConceptInfo,links:n.FieldLinkCollection,fields:n.FieldFormCollection},constructor:function(e){if(e=e||{},!e.model)throw new Error("concept model required");o.Layout.prototype.constructor.call(this,e)},initialize:function(){if(this.data={},!(this.data.context=this.options.context))throw new Error("context required")},onRender:function(){var e=new this.regionViews.info({model:this.model}),o=new n.FieldFormCollection(i.defaults({context:this.data.context,concept:this.model,collection:this.model.fields},this.options));this.info.show(e),this.fields.show(o);var t=this.options.linksMinFields;t!==!1&&(0===this.model.fields.length?this.listenToOnce(this.model.fields,"reset",function(e){e.length>=t&&this._renderLinks()}):this.model.fields.length>this.options.linksMinFields&&this._renderLinks())},_renderLinks:function(){var e=new this.regionViews.links({concept:this.model,collection:this.model.fields});this.links.show(e)},jumpToField:function(i){i.preventDefault();var o=e(i.target.hash).offset().top-20;e("html,body").animate({scrollTop:o})}});return{ConceptForm:r}});
//# sourceMappingURL=form.js.map